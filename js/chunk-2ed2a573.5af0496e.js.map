{"version":3,"sources":["webpack:///./src/components/AlertMessage.vue?6a02","webpack:///src/components/AlertMessage.vue","webpack:///./src/components/AlertMessage.vue?ed7c","webpack:///./src/components/AlertMessage.vue","webpack:///./node_modules/core-js/internals/array-fill.js","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/modules/es.array.fill.js","webpack:///./src/views/Frontend/GetCoupon.vue?6fc1","webpack:///src/views/Frontend/GetCoupon.vue","webpack:///./src/views/Frontend/GetCoupon.vue?60e3","webpack:///./src/views/Frontend/GetCoupon.vue","webpack:///./src/components/AlertMessage.vue?3f2d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","i","key","class","status","_v","_s","message","attrs","on","$event","removeMessage","staticRenderFns","name","data","messages","created","vm","$bus","$on","updateMessage","methods","push","timestamp","removeMessageWithTiming","splice","num","setTimeout","forEach","component","toObject","toAbsoluteIndex","toLength","module","exports","value","O","length","argumentsLength","arguments","index","undefined","end","endPos","toPrimitive","definePropertyModule","createPropertyDescriptor","object","propertyKey","f","$","toInteger","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","len","actualStart","TypeError","fill","addToUnscopables","style","backgroundImage","img","prize","directives","rawName","expression","domProps","composing","discount_code","ref","clipboard","components","AlertMessage","copyBtn","bg1","banner","mounted","scratchInit","Clipboard","$refs","copy","$emit","myCanvas","width","parentDOM","clientWidth","height","clientHeight","area","rect","X","Y","fillStyle","draw","event","preventDefault","beginPath","globalCompositeOperation","arc","x","y","PI","closePath","addEventListener","startEvtName","moveEvtName","endEvtName","removeEventListener","document","imageDate","iNum","allPX","getPrize","discount"],"mappings":"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","file":"js/chunk-2ed2a573.5af0496e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"message-alert\"},_vm._l((_vm.messages),function(item,i){return _c('div',{key:i,staticClass:\"alert alert-dismissible\",class:'alert-' + item.status},[(item.status == 'danger')?_c('i',{staticClass:\"far fa-times-circle\"}):_c('i',{staticClass:\"far fa-check-circle\"}),_vm._v(\" \"+_vm._s(item.message)+\" \"),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"aria-label\":\"Close\"},on:{\"click\":function($event){return _vm.removeMessage(i)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"message-alert\">\n    <div class=\"alert alert-dismissible\"\n      :class=\"'alert-' + item.status\"\n      v-for=\"(item, i) in messages\" :key=\"i\">\n      <i class=\"far fa-times-circle\" v-if=\"item.status == 'danger'\"></i>\n      <i class=\"far fa-check-circle\" v-else></i>\n      {{ item.message }}\n      <button type=\"button\" class=\"close\" @click=\"removeMessage(i)\" aria-label=\"Close\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'AlertMessage',\n  data() {\n    return {\n      messages: [],\n    };\n  },\n  created() {\n    const vm = this;\n    //  自定義名稱 'message:push'\n    //  message: 傳入參數\n    //  status: 樣式 預設為warning\n    vm.$bus.$on('message:push', (message, status = 'warning') => {\n      vm.updateMessage(message, status);\n    });\n  },\n  methods: {\n    updateMessage(message, status) {\n      const timestamp = Math.floor(new Date() / 1000);\n      this.messages.push({\n        message,\n        status,\n        timestamp,\n      });\n      this.removeMessageWithTiming(timestamp);\n    },\n    removeMessage(num) {\n      this.messages.splice(num, 1);\n    },\n    removeMessageWithTiming(timestamp) {\n      const vm = this;\n      setTimeout(() => {\n        vm.messages.forEach((item, i) => {\n          if (item.timestamp === timestamp) {\n            vm.messages.splice(i, 1);\n          }\n        });\n      }, 5000);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.message-alert {\n  position: fixed;\n  max-width: 50%;\n  top: 56px;\n  right: 20px;\n  z-index: 1100;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlertMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlertMessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AlertMessage.vue?vue&type=template&id=2c3f2ad2&scoped=true&\"\nimport script from \"./AlertMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./AlertMessage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AlertMessage.vue?vue&type=style&index=0&id=2c3f2ad2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c3f2ad2\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"getcoupon container\"},[_c('AlertMessage'),_c('div',{staticClass:\"couponbannerbox\"},[_c('div',{staticClass:\"couponbanner mb-4  mt-3 mt-lg-0\",style:({backgroundImage: (\"url(\" + (_vm.img.banner) + \")\") })}),_c('h2',{staticClass:\"mb-0\"},[_vm._v(\"專屬優惠\")])]),_c('div',{staticClass:\"couponbox mx-auto\",style:({backgroundImage: (\"url(\" + (_vm.img.bg1) + \")\") })},[_c('p',{staticClass:\"text-primary\"},[_vm._v(\"刮開你個人的專屬優惠大獎，多項折扣等你來拿，不限金額每筆訂單最高享有\\\"五折\\\"優惠，數量有限送完為止，早買早享受唷！\")]),_c('div',{staticClass:\"main text-center \"},[_c('div',{staticClass:\"prize\"},[_c('p',{staticClass:\"mb-0\"},[_vm._v(\"恭喜獲得 \"),_c('br'),_c('span',[_vm._v(_vm._s(_vm.prize))]),_vm._v(\" \"),_c('br'),_vm._v(\" 大獎 \")])]),_c('div',{staticClass:\"mt-2\"},[_vm._v(\"結帳時輸入以下序號，即可獲得折扣優惠\")]),_c('div',{staticClass:\"coupon mt-3 d-flex justify-content-center align-items-center\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.discount_code),expression:\"discount_code\"}],attrs:{\"id\":\"input_code\",\"type\":\"text\",\"readonly\":\"\"},domProps:{\"value\":(_vm.discount_code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.discount_code=$event.target.value}}}),_c('div',{ref:\"copy\",staticClass:\"btn btn-outline-primary copybtn\",attrs:{\"data-clipboard-target\":\"#input_code\"},on:{\"click\":function($event){return _vm.clipboard()}}},[_c('i',{staticClass:\"fas fa-copy\"})])]),_c('canvas',{attrs:{\"id\":\"myCanvas\"}})])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"getcoupon container\">\n    <AlertMessage/>\n    <!-- banner -->\n    <div class=\"couponbannerbox\">\n      <div class=\"couponbanner mb-4  mt-3 mt-lg-0\"\n      :style=\"{backgroundImage: `url(${img.banner})` }\">\n      </div>\n      <h2 class=\"mb-0\">專屬優惠</h2>\n    </div>\n    <!-- main -->\n    <div class=\"couponbox mx-auto\"\n    :style=\"{backgroundImage: `url(${img.bg1})` }\">\n      <p class=\"text-primary\">刮開你個人的專屬優惠大獎，多項折扣等你來拿，不限金額每筆訂單最高享有\"五折\"優惠，數量有限送完為止，早買早享受唷！</p>\n      <!-- 刮刮樂區塊 -->\n      <div class=\"main text-center \">\n        <div class=\"prize\">\n          <p class=\"mb-0\">恭喜獲得 <br>\n          <span>{{prize}}</span> <br>\n          大獎\n          </p>\n        </div>\n        <div class=\"mt-2\">結帳時輸入以下序號，即可獲得折扣優惠</div>\n        <div class=\"coupon mt-3 d-flex justify-content-center align-items-center\">\n          <input id=\"input_code\" type=\"text\" readonly v-model=\"discount_code\"/>\n          <div class=\"btn btn-outline-primary copybtn\"\n            @click=\"clipboard()\"\n            ref=\"copy\"\n            data-clipboard-target=\"#input_code\"\n            >\n            <i class=\"fas fa-copy\"></i>\n          </div>\n        </div>\n        <canvas id=\"myCanvas\"></canvas>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport $ from 'jquery';\nimport AlertMessage from '@/components/AlertMessage.vue';\n\nexport default {\n  name: 'GetCoupon',\n  components: {\n    AlertMessage,\n  },\n  data() {\n    return {\n      discount_code: '12345',\n      copyBtn: null, // 儲存初始化複製按鈕事件\n      prize: '八折',\n      img: {\n        bg1: 'https://hexschool-api.s3.us-west-2.amazonaws.com/custom/Ks9v02XEb4nThRFHYAN6IVCDVupEy3OgbqOsFPLzZOenm88z4fNMi067BSAUfEMVhiqUlJFKi2StRF3cNePTIPsPr5wH6saafwLMhutBuQ8XCjfxmWHmp61aoIhdf7jg.jpeg',\n        banner:\n          'https://hexschool-api.s3.us-west-2.amazonaws.com/custom/JmgReiZHDg7yjqzHTiUaZFBtOVdJVI4Zlpaeiygc1pwPwwxW6udpRZMMZIUczHFAJramsTDIuwnWgIgboFgL31wgkqpB2D6YmQqznxaKDU1vF95zSTZlR5peeKiKXGvo.jpeg',\n      },\n    };\n  },\n  mounted() {\n    this.scratchInit();\n    this.copyBtn = new this.Clipboard(this.$refs.copy);\n  },\n  methods: {\n    clipboard() {\n      this.$bus.$emit('message:push', '已複製序號，快去購物吧！', 'success');\n    },\n    scratchInit() {\n      // 獲取畫布\n      const myCanvas = document.getElementById('myCanvas');\n      const parentDOM = document.getElementById('myCanvas').parentNode;\n      const rect = myCanvas.getBoundingClientRect();\n      myCanvas.width = parentDOM.clientWidth;\n      myCanvas.height = parentDOM.clientHeight;\n      // 獲取畫布當前寬高\n      const X = myCanvas.width;\n      const Y = myCanvas.height;\n      // 獲取繪圖對象\n      const area = myCanvas.getContext('2d');\n      area.rect(0, 0, X, Y);\n      area.fillStyle = '#ccc';\n      area.fill();\n\n      /* 增加觸摸監聽 */\n      const device = /android|iphone|ipad|ipod|webos|iemobile|opear mini|linux/i.test(navigator.userAgent.toLowerCase());\n      const startEvtName = device ? 'touchstart' : 'mousedown';\n      const moveEvtName = device ? 'touchmove' : 'mousemove';\n      const endEvtName = device ? 'touchend' : 'mouseup';\n\n      /* 根據手指滑動路線，變透明 */\n      function draw(event) {\n        event.preventDefault();\n        const x = device ? event.touches[0].pageX - rect.x : event.offsetX;\n        const y = device ? event.touches[0].pageY - rect.y : event.offsetY;\n        area.beginPath();\n        area.globalCompositeOperation = 'destination-out';\n        area.arc(x, y, 20, 0, Math.PI * 2, false);\n        area.fill();\n        area.closePath();\n      }\n      myCanvas.addEventListener(startEvtName, () => {\n        myCanvas.addEventListener(moveEvtName, draw, false);\n      }, false);\n\n      myCanvas.addEventListener(endEvtName, () => {\n        myCanvas.removeEventListener(moveEvtName, draw, false);\n      }, false);\n      // 扣除到一定程度 自動打開\n      document.addEventListener(endEvtName, () => {\n        /* 獲取imageData對象 */\n        const imageDate = area.getImageData(0, 0, myCanvas.width, myCanvas.height);\n        // 所有像素點\n        const allPX = imageDate.width * imageDate.height;\n        // 刮開的像素點\n        let iNum = 0;\n        // eslint-disable-next-line no-plusplus\n        for (let i = 0; i < allPX; i++) {\n          if (imageDate.data[i * 4 + 3] === 0) {\n            // eslint-disable-next-line no-plusplus\n            iNum++;\n          }\n        }\n        // 刮開多少比例，canvas消失\n        // eslint-disable-next-line no-mixed-operators\n        if (iNum >= allPX * 3 / 10) {\n          $('#myCanvas').fadeOut(500);\n        }\n      }, true);\n\n      this.getPrize();\n    },\n    getPrize() {\n      const prizes = ['八折', '五折', '九折'];\n      const discount = Math.floor(Math.random() * prizes.length);\n      // eslint-disable-next-line default-case\n      switch (discount) {\n        case 0:\n          this.prize = '八折';\n          this.discount_code = 'puzzle20off';\n          break;\n        case 1:\n          this.prize = '五折';\n          this.discount_code = 'puzzle50off';\n          break;\n        case 2:\n          this.prize = '九折';\n          this.discount_code = 'puzzle10off';\n          break;\n      }\n    },\n\n  },\n\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GetCoupon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GetCoupon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GetCoupon.vue?vue&type=template&id=1b950322&\"\nimport script from \"./GetCoupon.vue?vue&type=script&lang=js&\"\nexport * from \"./GetCoupon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlertMessage.vue?vue&type=style&index=0&id=2c3f2ad2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlertMessage.vue?vue&type=style&index=0&id=2c3f2ad2&scoped=true&lang=css&\""],"sourceRoot":""}