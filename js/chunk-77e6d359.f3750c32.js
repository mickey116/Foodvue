(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77e6d359"],{"16a3":function(t,a,s){"use strict";var e=s("cd8c"),i=s.n(e);i.a},"56a6":function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"message-alert"},t._l(t.messages,(function(a,e){return s("div",{key:e,staticClass:"alert alert-dismissible",class:"alert-"+a.status},["danger"==a.status?s("i",{staticClass:"far fa-times-circle"}):s("i",{staticClass:"far fa-check-circle"}),t._v(" "+t._s(a.message)+" "),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.removeMessage(e)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},i=[],r=(s("4160"),s("a434"),s("159b"),{name:"AlertMessage",data:function(){return{messages:[]}},created:function(){var t=this;t.$bus.$on("message:push",(function(a){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(a,s)}))},methods:{updateMessage:function(t,a){var s=Math.floor(new Date/1e3);this.messages.push({message:t,status:a,timestamp:s}),this.removeMessageWithTiming(s)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var a=this;setTimeout((function(){a.messages.forEach((function(s,e){s.timestamp===t&&a.messages.splice(e,1)}))}),5e3)}}}),n=r,o=(s("e7ca"),s("2877")),l=Object(o["a"])(n,e,i,!1,null,"2c3f2ad2",null);a["a"]=l.exports},7101:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),s("AlertMessage"),s("Navbar"),s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8 form-signin"},[t._m(0),s("div",{staticClass:"tab-content",attrs:{id:"nav-tabContent"}},[s("div",{staticClass:"tab-pane fade ",attrs:{id:"nav-register",role:"tabpanel","aria-labelledby":"nav-register-tab"}},[t._m(1),s("hr"),s("h6",{staticClass:"text-center m-4"},[t._v("用戶註冊")]),s("form",[s("div",{staticClass:"form-group"},[s("label",{staticClass:"sr-only",attrs:{for:"inputrUser"}},[t._v("username")]),s("div",{staticClass:"username-container"},[s("i",{staticClass:"fas fa-user"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{id:"inputrUser",type:"text",placeholder:"用戶名",required:""},domProps:{value:t.user.password},on:{input:function(a){a.target.composing||t.$set(t.user,"password",a.target.value)}}})])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"sr-only",attrs:{for:"inputrEmail"}},[t._v("Email address")]),s("div",{staticClass:"email-container"},[s("i",{staticClass:"far fa-envelope"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{id:"inputrEmail",type:"email",placeholder:"電子信箱",required:""},domProps:{value:t.user.email},on:{input:function(a){a.target.composing||t.$set(t.user,"email",a.target.value)}}})])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"sr-only",attrs:{for:"inputrPassword"}},[t._v("Password")]),s("div",{staticClass:"password-container"},[s("i",{staticClass:"fas fa-unlock-alt"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{id:"inputrPassword",type:"password",placeholder:"密碼",required:""},domProps:{value:t.user.password},on:{input:function(a){a.target.composing||t.$set(t.user,"password",a.target.value)}}})])]),t._m(2),s("button",{staticClass:"btn btn-primary btn-block mt-3",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModalCenter"}},[t._v("註冊")])])]),s("div",{staticClass:"tab-pane fade show active",attrs:{id:"nav-login",role:"tabpanel","aria-labelledby":"nav-login-tab"}},[t._m(3),s("hr"),s("h6",{staticClass:"text-center m-4"},[t._v("用戶登入")]),s("form",{on:{submit:function(a){return a.preventDefault(),t.signin(a)}}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),s("div",{staticClass:"email-container"},[s("i",{staticClass:"far fa-envelope"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{id:"inputEmail",type:"email",placeholder:"請輸入您的電子信箱",required:""},domProps:{value:t.user.email},on:{input:function(a){a.target.composing||t.$set(t.user,"email",a.target.value)}}})])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),s("div",{staticClass:"password-container"},[s("i",{staticClass:"fas fa-unlock-alt"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{id:"inputPassword",type:"password",placeholder:"請輸入您的密碼",required:""},domProps:{value:t.user.password},on:{input:function(a){a.target.composing||t.$set(t.user,"password",a.target.value)}}})])]),s("a",{staticClass:"text-secondary d-block text-right",attrs:{href:"#"}},[t._v("忘記密碼？")]),s("button",{staticClass:"btn btn-primary btn-block mt-3 btnlogin",attrs:{type:"submit"}},[t._v("登入")])])])])])])]),t._m(4)],1)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("nav",[s("div",{staticClass:"nav nav-tabs nav-justified",attrs:{id:"nav-tab",role:"tablist"}},[s("a",{staticClass:"nav-item nav-link",attrs:{id:"nav-register-tab","data-toggle":"tab",href:"#nav-register",role:"tab","aria-controls":"nav-profile","aria-selected":"false"}},[t._v("註冊")]),s("a",{staticClass:"nav-item nav-link active",attrs:{id:"nav-login-tab","data-toggle":"tab",href:"#nav-login",role:"tab","aria-controls":"nav-home","aria-selected":"true"}},[t._v("登入")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"form-row social-connect"},[s("div",{staticClass:"col-12 col-lg mb-3 mb-md-0"},[s("button",{staticClass:"btn-block p-2 btn btn-line d-flex\n                align-items-center justify-content-center"},[s("i",{staticClass:"fab fa-line mr-2"}),t._v(" 使用 LINE 註冊 ")])]),s("div",{staticClass:"col-12 col-lg mb-3 mb-md-0"},[s("button",{staticClass:"btn-block p-2 btn btn-facebook d-flex\n                align-items-center justify-content-center"},[s("i",{staticClass:"fab fa-facebook-square mr-2"}),s("span",[t._v("使用 Facebook 註冊")])])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"checkbox"},[s("label",[s("input",{attrs:{type:"checkbox",value:"remember-me"}}),t._v(" 訂閱商電最新資訊及優惠方案 ")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"form-row social-connect"},[s("div",{staticClass:"col-12 col-lg mb-3"},[s("button",{staticClass:"btn-block p-2 btn btn-line\n                d-flex align-items-center justify-content-center"},[s("i",{staticClass:"fab fa-line mr-2"}),t._v(" 使用 LINE 登入 ")])]),s("div",{staticClass:"col-12 col-lg mb-3"},[s("button",{staticClass:"btn-block p-2 btn btn-facebook\n                d-flex align-items-center justify-content-center"},[s("i",{staticClass:"fab fa-facebook-square mr-2"}),s("span",[t._v("使用 Facebook 登入")])])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal fade",attrs:{id:"exampleModalCenter",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v("註冊成功")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),s("div",{staticClass:"modal-body"},[t._v("您可以開始購物了！")])])])])}],r=(s("99af"),s("d178")),n=s("56a6"),o={name:"Login",data:function(){return{user:{email:"",password:""},isLoading:!1}},components:{Navbar:r["a"],AlertMessage:n["a"]},methods:{toHome:function(){var t=this;t.$router.push("/home")},register:function(){this.$router.push("/goods")},signin:function(){var t=this,a="".concat("https://course-ec-api.hexschool.io","/api/auth/login");t.isLoading=!0,t.$http.post(a,t.user).then((function(a){var s=a.data.token,e=a.data.expired;document.cookie="hasToken=".concat(s,";expires=").concat(new Date(1e3*e),"; path=/"),t.$router.push("/admin/products"),t.$bus.$emit("message:push","登入成功","success"),t.isLoading=!1})).catch((function(){t.$bus.$emit("message:push","登入失敗","danger"),t.isLoading=!1}))}}},l=o,c=(s("76a2"),s("2877")),d=Object(c["a"])(l,e,i,!1,null,"fa8cd3e4",null);a["default"]=d.exports},"76a2":function(t,a,s){"use strict";var e=s("80a0"),i=s.n(e);i.a},"80a0":function(t,a,s){},8418:function(t,a,s){"use strict";var e=s("c04e"),i=s("9bf2"),r=s("5c6c");t.exports=function(t,a,s){var n=e(a);n in t?i.f(t,n,r(0,s)):t[n]=s}},"99af":function(t,a,s){"use strict";var e=s("23e7"),i=s("d039"),r=s("e8b5"),n=s("861d"),o=s("7b0b"),l=s("50c4"),c=s("8418"),d=s("65f0"),u=s("1dde"),v=s("b622"),m=s("2d00"),p=v("isConcatSpreadable"),f=9007199254740991,b="Maximum allowed index exceeded",g=m>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),h=u("concat"),C=function(t){if(!n(t))return!1;var a=t[p];return void 0!==a?!!a:r(t)},_=!g||!h;e({target:"Array",proto:!0,forced:_},{concat:function(t){var a,s,e,i,r,n=o(this),u=d(n,0),v=0;for(a=-1,e=arguments.length;a<e;a++)if(r=-1===a?n:arguments[a],C(r)){if(i=l(r.length),v+i>f)throw TypeError(b);for(s=0;s<i;s++,v++)s in r&&c(u,v,r[s])}else{if(v>=f)throw TypeError(b);c(u,v++,r)}return u.length=v,u}})},a434:function(t,a,s){"use strict";var e=s("23e7"),i=s("23cb"),r=s("a691"),n=s("50c4"),o=s("7b0b"),l=s("65f0"),c=s("8418"),d=s("1dde"),u=s("ae40"),v=d("splice"),m=u("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,f=Math.min,b=9007199254740991,g="Maximum allowed length exceeded";e({target:"Array",proto:!0,forced:!v||!m},{splice:function(t,a){var s,e,d,u,v,m,h=o(this),C=n(h.length),_=i(t,C),w=arguments.length;if(0===w?s=e=0:1===w?(s=0,e=C-_):(s=w-2,e=f(p(r(a),0),C-_)),C+s-e>b)throw TypeError(g);for(d=l(h,e),u=0;u<e;u++)v=_+u,v in h&&c(d,u,h[v]);if(d.length=e,s<e){for(u=_;u<C-e;u++)v=u+e,m=u+s,v in h?h[m]=h[v]:delete h[m];for(u=C;u>C-e+s;u--)delete h[u-1]}else if(s>e)for(u=C-e;u>_;u--)v=u+e-1,m=u+s-1,v in h?h[m]=h[v]:delete h[m];for(u=0;u<s;u++)h[u+_]=arguments[u+2];return h.length=C-e+s,d}})},cd8c:function(t,a,s){},d178:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"bg-white position-relative fixed-top",attrs:{id:"navbar"}},[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),s("div",{staticClass:"container"},[s("nav",{staticClass:"navbar px-0 navbar-expand-lg navbar-light bg-white custom-navbar"},[t._m(0),s("router-link",{staticClass:"navbar-brand mr-0",attrs:{to:"/"}},[t._v(" PUZZLE")]),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[s("ul",{staticClass:"navbar-nav mx-auto"},[s("li",{staticClass:"nav-item active"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/goods"}},[t._v("產品列表")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/about"}},[t._v("關於我們")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/getcoupon"}},[t._v("專屬優惠")])],1)])]),s("div",{staticClass:"d-flex user"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/favorite"}},[s("i",{staticClass:"fas fa-heart"})]),s("div",{staticClass:"dropdown ml-auto cart"},[s("button",{staticClass:"btn btn-md position-relative nav-link",attrs:{"data-toggle":"dropdown","data-flip":"false"}},[s("i",{staticClass:"fas fa-shopping-cart",attrs:{"aria-hidden":"true"}}),t.cart.length?s("span",{staticClass:"badge badge-pill badge-danger "},[t._v(t._s(t.cart.length))]):t._e()]),s("div",{staticClass:"dropdown-menu dropdown-menu-right"},[t.cart.length?s("div",{staticClass:"p-2"},[s("h6",{staticClass:"text-center"},[t._v("已選擇商品")]),s("table",{staticClass:"table text-center table-sm"},[s("tbody",t._l(t.cart,(function(a){return s("tr",{key:a.product.id},[s("td",{staticClass:"align-middle",attrs:{width:"30"}},[s("a",{staticClass:"text-secondary trash",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.removeCartItem(a.product.id)}}},[s("i",{staticClass:"far fa-trash-alt ",attrs:{"aria-hidden":"true"}})])]),s("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]),s("td",{staticClass:"align-middle",attrs:{width:"80"}},[t._v(" "+t._s(a.quantity)+" "+t._s(a.product.unit)+" ")]),s("td",{staticClass:"align-middle text-right"},[t._v("$"+t._s(a.product.price))])])})),0)]),s("router-link",{staticClass:"btn btn-primary btn-block text-white",attrs:{to:"/cart"}},[s("i",{staticClass:"fas fa-cart-arrow-down"}),t._v(" 結帳去 ")])],1):s("div",{staticClass:"p-2"},[s("h6",{staticClass:"text-center mb-3"},[t._v("購物車沒有商品喔！")]),s("div",{staticClass:"text-center"},[s("router-link",{staticClass:"btn btn-primary text-white ",attrs:{to:"/goods"}},[t._v(" 選購去 ")])],1)])])])],1)],1)])],1)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],r=(s("99af"),{name:"Navbar",data:function(){return{cart:{},isLoading:!1}},methods:{getCart:function(){var t=this,a="".concat("https://course-ec-api.hexschool.io","/api/").concat("b2a0a13b-3f39-4e27-abe0-72d7b7e3eda8","/ec/shopping");t.isLoading=!0,t.$http.get(a).then((function(a){t.cart=a.data.data,t.isLoading=!1}))},removeCartItem:function(t){var a=this,s="".concat("https://course-ec-api.hexschool.io","/api/").concat("b2a0a13b-3f39-4e27-abe0-72d7b7e3eda8","/ec/shopping/").concat(t);a.isLoading=!0,a.$http.delete(s).then((function(){a.getCart(),a.isLoading=!1}))}},created:function(){var t=this;this.getCart(),this.$bus.$on("getcart",(function(){t.getCart()}))}}),n=r,o=(s("16a3"),s("2877")),l=Object(o["a"])(n,e,i,!1,null,null,null);a["a"]=l.exports},e6d3:function(t,a,s){},e7ca:function(t,a,s){"use strict";var e=s("e6d3"),i=s.n(e);i.a}}]);
//# sourceMappingURL=chunk-77e6d359.f3750c32.js.map