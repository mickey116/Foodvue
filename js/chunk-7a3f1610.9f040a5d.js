(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a3f1610"],{"31f2":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",attrs:{id:"goods"}},[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),s("AlertMessage"),s("div",{staticClass:"bannerbox"},[s("div",{staticClass:"banner mb-4  mt-3 mt-lg-0",style:{backgroundImage:"url("+t.img.banner+")"}}),s("h2",{staticClass:"mb-0"},[t._v("產品列表")])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-3 goodstype mb-3 mb-sm-0"},[t._m(0),s("ul",{staticClass:"list-group text-center"},[s("li",{staticClass:"list-group-item"},[s("a",{class:{active:"All"===t.filterType},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getFilter(t.filterType="All")}}},[t._v("全部")])]),s("li",{staticClass:"list-group-item"},[s("a",{class:{active:"Travel"===t.filterType},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getFilter(t.filterType="Travel")}}},[t._v("旅行")])]),s("li",{staticClass:"list-group-item"},[s("a",{class:{active:"Nature"===t.filterType},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getFilter(t.filterType="Nature")}}},[t._v("自然")])]),s("li",{staticClass:"list-group-item"},[s("a",{class:{active:"Flowers"===t.filterType},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getFilter(t.filterType="Flowers")}}},[t._v("花卉")])]),s("li",{staticClass:"list-group-item"},[s("a",{class:{active:"Animals"===t.filterType},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getFilter(t.filterType="Animals")}}},[t._v("動物")])]),s("li",{staticClass:"list-group-item"},[s("a",{class:{active:"Custom"===t.filterType},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getFilter(t.filterType="Custom")}}},[t._v("客製")])])])]),s("div",{staticClass:"col-sm-9"},[s("div",{staticClass:"row"},t._l(t.newProducts,(function(e){return s("div",{key:e.id,staticClass:"col-md-6 mb-4"},[s("div",{staticClass:"card shadow-sm h-100"},[s("div",{staticClass:"card-head"},[s("router-link",{attrs:{to:"/goodsdetail/"+e.id}},[s("img",{staticClass:"w-100 card-img-top img-md-fluid",attrs:{src:e.imageUrl[0],alt:e.title}})]),s("div",{staticClass:"iconTags",attrs:{title:"收藏"},on:{click:function(s){return s.preventDefault(),t.addFollow(e.id)}}},[-1===t.followData.indexOf(e.id)?s("i",{staticClass:"far fa-heart"}):s("i",{staticClass:"fas fa-heart"})]),s("div",{staticClass:"info"},[s("router-link",{staticClass:"detaillogo",attrs:{to:"/goodsdetail/"+e.id}},[s("i",{staticClass:"fas fa-info"})]),s("a",{staticClass:"cartlogo",on:{click:function(s){return s.preventDefault(),t.addToCart(e.id)}}},[s("i",{staticClass:"fas fa-cart-arrow-down"})])],1)],1),s("router-link",{staticClass:"text-decoration-none card-body",attrs:{to:"/goodsdetail/"+e.id}},[s("h6",[t._v(t._s(e.title))]),s("div",{staticClass:"d-flex justify-content-between"},[s("span",{staticClass:"text-secondary"},[s("del",[t._v("原價："+t._s(t._f("currency")(e.origin_price)))])]),s("span",{staticClass:"text-danger h5"},[t._v("特價："+t._s(t._f("currency")(e.price)))])])])],1)])})),0)])])],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h5",{staticClass:"text-center title"},[s("i",{staticClass:"fas fa-puzzle-piece d-none d-md-inline-block"}),t._v(" 產品類別 ")])}],r=(s("99af"),s("4de4"),s("c975"),s("a434"),s("56a6")),n={name:"Goods",components:{AlertMessage:r["a"]},data:function(){return{products:[],newProducts:[],isLoading:!1,filterType:"All",img:{banner:"https://hexschool-api.s3.us-west-2.amazonaws.com/custom/JmgReiZHDg7yjqzHTiUaZFBtOVdJVI4Zlpaeiygc1pwPwwxW6udpRZMMZIUczHFAJramsTDIuwnWgIgboFgL31wgkqpB2D6YmQqznxaKDU1vF95zSTZlR5peeKiKXGvo.jpeg"},followData:JSON.parse(localStorage.getItem("followCard"))||[]}},methods:{getProducts:function(){var t=this,e="".concat("https://course-ec-api.hexschool.io","/api/").concat("b2a0a13b-3f39-4e27-abe0-72d7b7e3eda8","/ec/products");t.isLoading=!0,t.$http.get(e).then((function(e){t.products=e.data.data,t.isLoading=!1,t.getFilter()}))},getFilter:function(){switch(this.filterType){case"All":this.newProducts=this.products;break;case"Travel":this.newProducts=this.products.filter((function(t){return"Travel"===t.category}));break;case"Nature":this.newProducts=this.products.filter((function(t){return"Nature"===t.category}));break;case"Flowers":this.newProducts=this.products.filter((function(t){return"Flower"===t.category}));break;case"Animals":this.newProducts=this.products.filter((function(t){return"Animal"===t.category}));break;case"Custom":this.newProducts=this.products.filter((function(t){return"Customize"===t.category}));break;default:break}},addToCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=this,a="".concat("https://course-ec-api.hexschool.io","/api/").concat("b2a0a13b-3f39-4e27-abe0-72d7b7e3eda8","/ec/shopping"),i={product:t,quantity:e};s.isLoading=!0,s.$http.post(a,i).then((function(){s.isLoading=!1,s.$bus.$emit("message:push","加入購物車成功","success"),s.$bus.$emit("getcart")})).catch((function(t){s.isLoading=!1;var e=t.response.data.errors[0];s.$bus.$emit("message:push","".concat(e),"danger")}))},addFollow:function(t){var e=this,s=this.followData.indexOf(t);-1===s?(e.followData.push(t),e.$bus.$emit("message:push","加入收藏","success")):(e.followData.splice(s,1),e.$bus.$emit("message:push","取消收藏","danger")),localStorage.setItem("followCard",JSON.stringify(this.followData))}},created:function(){this.getProducts()}},c=n,o=s("2877"),l=Object(o["a"])(c,a,i,!1,null,null,null);e["default"]=l.exports},"56a6":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"message-alert"},t._l(t.messages,(function(e,a){return s("div",{key:a,staticClass:"alert alert-dismissible",class:"alert-"+e.status},["danger"==e.status?s("i",{staticClass:"far fa-times-circle"}):s("i",{staticClass:"far fa-check-circle"}),t._v(" "+t._s(e.message)+" "),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.removeMessage(a)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},i=[],r=(s("4160"),s("a434"),s("159b"),{name:"AlertMessage",data:function(){return{messages:[]}},created:function(){var t=this;t.$bus.$on("message:push",(function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(e,s)}))},methods:{updateMessage:function(t,e){var s=Math.floor(new Date/1e3);this.messages.push({message:t,status:e,timestamp:s}),this.removeMessageWithTiming(s)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var e=this;setTimeout((function(){e.messages.forEach((function(s,a){s.timestamp===t&&e.messages.splice(a,1)}))}),5e3)}}}),n=r,c=(s("e7ca"),s("2877")),o=Object(c["a"])(n,a,i,!1,null,"2c3f2ad2",null);e["a"]=o.exports},8418:function(t,e,s){"use strict";var a=s("c04e"),i=s("9bf2"),r=s("5c6c");t.exports=function(t,e,s){var n=a(e);n in t?i.f(t,n,r(0,s)):t[n]=s}},"99af":function(t,e,s){"use strict";var a=s("23e7"),i=s("d039"),r=s("e8b5"),n=s("861d"),c=s("7b0b"),o=s("50c4"),l=s("8418"),u=s("65f0"),d=s("1dde"),f=s("b622"),g=s("2d00"),p=f("isConcatSpreadable"),h=9007199254740991,m="Maximum allowed index exceeded",v=g>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),b=d("concat"),C=function(t){if(!n(t))return!1;var e=t[p];return void 0!==e?!!e:r(t)},w=!v||!b;a({target:"Array",proto:!0,forced:w},{concat:function(t){var e,s,a,i,r,n=c(this),d=u(n,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(r=-1===e?n:arguments[e],C(r)){if(i=o(r.length),f+i>h)throw TypeError(m);for(s=0;s<i;s++,f++)s in r&&l(d,f,r[s])}else{if(f>=h)throw TypeError(m);l(d,f++,r)}return d.length=f,d}})},a434:function(t,e,s){"use strict";var a=s("23e7"),i=s("23cb"),r=s("a691"),n=s("50c4"),c=s("7b0b"),o=s("65f0"),l=s("8418"),u=s("1dde"),d=s("ae40"),f=u("splice"),g=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,h=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!g},{splice:function(t,e){var s,a,u,d,f,g,b=c(this),C=n(b.length),w=i(t,C),y=arguments.length;if(0===y?s=a=0:1===y?(s=0,a=C-w):(s=y-2,a=h(p(r(e),0),C-w)),C+s-a>m)throw TypeError(v);for(u=o(b,a),d=0;d<a;d++)f=w+d,f in b&&l(u,d,b[f]);if(u.length=a,s<a){for(d=w;d<C-a;d++)f=d+a,g=d+s,f in b?b[g]=b[f]:delete b[g];for(d=C;d>C-a+s;d--)delete b[d-1]}else if(s>a)for(d=C-a;d>w;d--)f=d+a-1,g=d+s-1,f in b?b[g]=b[f]:delete b[g];for(d=0;d<s;d++)b[d+w]=arguments[d+2];return b.length=C-a+s,u}})},c975:function(t,e,s){"use strict";var a=s("23e7"),i=s("4d64").indexOf,r=s("a640"),n=s("ae40"),c=[].indexOf,o=!!c&&1/[1].indexOf(1,-0)<0,l=r("indexOf"),u=n("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:o||!l||!u},{indexOf:function(t){return o?c.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},e6d3:function(t,e,s){},e7ca:function(t,e,s){"use strict";var a=s("e6d3"),i=s.n(a);i.a}}]);
//# sourceMappingURL=chunk-7a3f1610.9f040a5d.js.map