(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d53def02"],{"56a6":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-alert"},t._l(t.messages,(function(e,s){return a("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+e.status},["danger"==e.status?a("i",{staticClass:"far fa-times-circle"}):a("i",{staticClass:"far fa-check-circle"}),t._v(" "+t._s(e.message)+" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.removeMessage(s)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},i=[],r=(a("4160"),a("a434"),a("159b"),{name:"AlertMessage",data:function(){return{messages:[]}},created:function(){var t=this;t.$bus.$on("message:push",(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(e,a)}))},methods:{updateMessage:function(t,e){var a=Math.floor(new Date/1e3);this.messages.push({message:t,status:e,timestamp:a}),this.removeMessageWithTiming(a)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var e=this;setTimeout((function(){e.messages.forEach((function(a,s){a.timestamp===t&&e.messages.splice(s,1)}))}),5e3)}}}),c=r,o=(a("e7ca"),a("2877")),n=Object(o["a"])(c,s,i,!1,null,"2c3f2ad2",null);e["a"]=n.exports},8418:function(t,e,a){"use strict";var s=a("c04e"),i=a("9bf2"),r=a("5c6c");t.exports=function(t,e,a){var c=s(e);c in t?i.f(t,c,r(0,a)):t[c]=a}},"99af":function(t,e,a){"use strict";var s=a("23e7"),i=a("d039"),r=a("e8b5"),c=a("861d"),o=a("7b0b"),n=a("50c4"),d=a("8418"),u=a("65f0"),l=a("1dde"),p=a("b622"),f=a("2d00"),m=p("isConcatSpreadable"),g=9007199254740991,h="Maximum allowed index exceeded",v=f>=51||!i((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),b=l("concat"),_=function(t){if(!c(t))return!1;var e=t[m];return void 0!==e?!!e:r(t)},C=!v||!b;s({target:"Array",proto:!0,forced:C},{concat:function(t){var e,a,s,i,r,c=o(this),l=u(c,0),p=0;for(e=-1,s=arguments.length;e<s;e++)if(r=-1===e?c:arguments[e],_(r)){if(i=n(r.length),p+i>g)throw TypeError(h);for(a=0;a<i;a++,p++)a in r&&d(l,p,r[a])}else{if(p>=g)throw TypeError(h);d(l,p++,r)}return l.length=p,l}})},a1b8:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"goodsdetail"}},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("AlertMessage"),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-md"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{attrs:{to:"/home"}},[t._v("首頁")])],1),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{attrs:{to:"/goods"}},[t._v("產品列表")])],1),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.product.category)+" - "+t._s(t.product.title))])])]),a("img",{staticClass:"img-fluid",attrs:{src:t.product.imageUrl[0],alt:""}}),a("p",{staticClass:"mt-3 mb-1 text-secondary"},[t._v("商品說明 - ")]),a("p",[t._v(t._s(t.product.content))])]),a("div",{staticClass:"col-md detail"},[a("h3",[a("i",{staticClass:"fas fa-puzzle-piece"}),t._v(" "+t._s(t.product.title))]),a("p",{staticClass:"h5 text-right text-secondary mb-5"},[t._v(" - "+t._s(t.product.description))]),a("div",{staticClass:"d-flex flex-column mb-4 text-right price"},[a("span",{staticClass:"text-secondary"},[a("del",[t._v("原價：$"+t._s(t.product.origin_price))])]),a("span",{staticClass:"text-danger h5"},[t._v("特價：$"+t._s(t.product.price))])]),a("div",{staticClass:"row addCart"},[a("div",{staticClass:"col-md mb-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control",attrs:{name:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.product,"num",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0",disabled:"",selected:""}},[t._v(" 請選擇數量 ")]),t._l(10,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" 選購 "+t._s(e)+" "+t._s(t.product.unit)+" ")])}))],2)]),a("div",{staticClass:"col-md"},[a("div",[a("button",{staticClass:"btn btn-primary btn-block",on:{click:function(e){return t.addToCart(t.product.id,t.product.num)}}},[t._v("加入購物車")])])])])])]),a("hr"),a("section",{staticClass:"similar"},[t.relatedProducts!==[]?a("h4",{staticClass:"text-center mb-3"},[t._v("相關產品")]):t._e(),a("div",{staticClass:"row"},t._l(t.relatedProducts,(function(e){return a("div",{key:e.id,staticClass:"col-md-4 mb-4",on:{click:function(e){return t.getProduct()}}},[a("div",{staticClass:"card h-100"},[a("router-link",{attrs:{to:"/goodsdetail/"+e.id}},[a("img",{staticClass:"img-fluid w-100",attrs:{src:e.imageUrl[0],alt:e.title}})]),a("router-link",{staticClass:"text-decoration-none card-body",attrs:{to:"/goodsdetail/"+e.id}},[a("h6",[t._v(t._s(e.title))]),a("div",{staticClass:"d-flex justify-content-between"},[a("span",{staticClass:"text-secondary"},[a("del",[t._v("原價："+t._s(t._f("currency")(e.origin_price)))])]),a("span",{staticClass:"text-danger h5"},[t._v("特價："+t._s(t._f("currency")(e.price)))])])])],1)])})),0)])],1)},i=[],r=(a("99af"),a("4160"),a("159b"),a("56a6")),c={name:"Goodsdetail",components:{AlertMessage:r["a"]},data:function(){return{products:[],product:{imageUrl:[]},similar:[],isLoading:!1,relatedProducts:[]}},methods:{getProducts:function(){var t=this,e="".concat("https://course-ec-api.hexschool.io","/api/").concat("b2a0a13b-3f39-4e27-abe0-72d7b7e3eda8","/ec/products");t.isLoading=!0,t.$http.get(e).then((function(e){t.products=e.data.data,t.isLoading=!1}))},getProduct:function(){var t=this;t.relatedProducts=[];var e=t.$route.params.id,a="".concat("https://course-ec-api.hexschool.io","/api/").concat("b2a0a13b-3f39-4e27-abe0-72d7b7e3eda8","/ec/product/").concat(e);t.isLoading=!0,t.$http.get(a).then((function(e){t.product=e.data.data,t.product.num=1,t.isLoading=!1})).catch((function(){t.isLoading=!1}))},getRelated:function(){var t=this;t.relatedProducts=[];var e=t.$route.params.id,a="".concat("https://course-ec-api.hexschool.io","/api/").concat("b2a0a13b-3f39-4e27-abe0-72d7b7e3eda8","/ec/product/").concat(e);t.isLoading=!0,t.$http.get(a).then((function(){t.products.forEach((function(a){a.category===t.product.category&&a.id!==e&&t.relatedProducts.push(a)})),t.isLoading=!1})).catch((function(){t.isLoading=!1}))},addToCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this,s="".concat("https://course-ec-api.hexschool.io","/api/").concat("b2a0a13b-3f39-4e27-abe0-72d7b7e3eda8","/ec/shopping"),i={product:t,quantity:e};a.$http.post(s,i).then((function(){a.$bus.$emit("message:push","加入購物車成功","success"),a.$bus.$emit("getcart")})).catch((function(t){var e=t.response.data.errors[0];a.$bus.$emit("message:push","".concat(e),"danger")}))}},created:function(){this.getProducts(),this.getProduct(),this.getRelated()}},o=c,n=a("2877"),d=Object(n["a"])(o,s,i,!1,null,null,null);e["default"]=d.exports},a434:function(t,e,a){"use strict";var s=a("23e7"),i=a("23cb"),r=a("a691"),c=a("50c4"),o=a("7b0b"),n=a("65f0"),d=a("8418"),u=a("1dde"),l=a("ae40"),p=u("splice"),f=l("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,g=Math.min,h=9007199254740991,v="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!p||!f},{splice:function(t,e){var a,s,u,l,p,f,b=o(this),_=c(b.length),C=i(t,_),x=arguments.length;if(0===x?a=s=0:1===x?(a=0,s=_-C):(a=x-2,s=g(m(r(e),0),_-C)),_+a-s>h)throw TypeError(v);for(u=n(b,s),l=0;l<s;l++)p=C+l,p in b&&d(u,l,b[p]);if(u.length=s,a<s){for(l=C;l<_-s;l++)p=l+s,f=l+a,p in b?b[f]=b[p]:delete b[f];for(l=_;l>_-s+a;l--)delete b[l-1]}else if(a>s)for(l=_-s;l>C;l--)p=l+s-1,f=l+a-1,p in b?b[f]=b[p]:delete b[f];for(l=0;l<a;l++)b[l+C]=arguments[l+2];return b.length=_-s+a,u}})},e6d3:function(t,e,a){},e7ca:function(t,e,a){"use strict";var s=a("e6d3"),i=a.n(s);i.a}}]);
//# sourceMappingURL=chunk-d53def02.547ae7fa.js.map